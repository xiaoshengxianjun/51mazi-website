<template>
  <section class="py-20 bg-gray-50">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-4 animate-fade-in animate-slide-down">
          æ ¸å¿ƒåŠŸèƒ½äº®ç‚¹
        </h2>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto animate-fade-in animate-slide-up animate-delay-200">
          å¼ºå¤§çš„åŠŸèƒ½é›†åˆï¼Œæ»¡è¶³å°è¯´åˆ›ä½œçš„å„ç§éœ€æ±‚
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        <div
          v-for="(feature, index) in features"
          :key="feature.id"
          :ref="el => setCardRef(el, index)"
          class="opacity-0"
        >
          <CommonFeatureCard
            :title="feature.title"
            :description="feature.description"
            :icon="feature.icon"
            :link="feature.link"
            :style="{ animationDelay: `${index * 0.1}s` }"
          />
        </div>
      </div>
    </div>
  </section>
</template>

<script setup lang="ts">
const { observeElement } = useScrollAnimation()
const cardRefs = ref<(Element | null)[]>([])

const setCardRef = (el: Element | null, index: number) => {
  if (el) {
    cardRefs.value[index] = el
    observeElement(el)
  }
}

const features = [
  {
    id: 1,
    title: 'ä¸“ä¸šç¼–è¾‘å™¨',
    description: 'å¼ºå¤§çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ”¯æŒ Markdownã€ä»£ç é«˜äº®ã€ç¬”è®°ç­‰åŠŸèƒ½',
    icon: 'âœï¸',
    link: '/features/editor'
  },
  {
    id: 2,
    title: 'åœ°å›¾è®¾è®¡',
    description: 'å¯è§†åŒ–åœ°å›¾è®¾è®¡å·¥å…·ï¼Œè½»æ¾åˆ›å»ºå°è¯´ä¸–ç•Œçš„åœ°å›¾å’Œåœºæ™¯',
    icon: 'ğŸ—ºï¸',
    link: '/features/map'
  },
  {
    id: 3,
    title: 'å…³ç³»å›¾è°±',
    description: 'æ¸…æ™°å±•ç¤ºäººç‰©å…³ç³»ï¼Œç®¡ç†å¤æ‚çš„äººç‰©ç½‘ç»œå’Œå‰§æƒ…çº¿ç´¢',
    icon: 'ğŸ•¸ï¸',
    link: '/features/relation'
  },
  {
    id: 4,
    title: 'æ™ºèƒ½åˆ›ä½œè¾…åŠ©',
    description: 'äººç‰©æ¡£æ¡ˆã€æ—¶é—´çº¿ã€äº‹åºå›¾ç­‰å·¥å…·ï¼Œè®©åˆ›ä½œæ›´é«˜æ•ˆ',
    icon: 'âœ¨',
    link: '/features/more'
  }
]
</script>
